(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,a){e.exports=a.p+"static/media/Acme-corp.82be7c71.png"},157:function(e,t,a){e.exports=a(319)},162:function(e,t,a){},319:function(e,t,a){"use strict";a.r(t);var s={};a.r(s),a.d(s,"addMessage",function(){return B});var n=a(0),r=a.n(n),l=a(3),i=a.n(l),m=(a(162),a(80)),c=a(51);const d=[{id:1,name:"Bugs Bunny",image:"https://img.favpng.com/7/8/18/bugs-bunny-easter-bunny-vector-graphics-stock-photography-clip-art-png-favpng-QH2f17bvXahtv3naX4J5icSf5.jpg"},{id:2,name:"Tweety",image:"https://img.favpng.com/3/8/17/tweety-sylvester-high-definition-video-wallpaper-png-favpng-RfTzfg6eJjsZUWLPzEEYueTMC.jpg"},{id:3,name:"Daffy Duck",image:"https://img.favpng.com/22/10/8/daffy-duck-donald-duck-porky-pig-bugs-bunny-looney-tunes-png-favpng-ZCHdiiXXLbUpdJVA7aLG7t8n5.jpg"},{id:4,name:"Tasmanian Devil",image:"https://www.vhv.rs/dpng/d/412-4124864_tasmanian-devil-png-image-file-demonio-de-tasmania.png"},{id:5,name:"Porky Pig",image:"https://i.pinimg.com/736x/8f/06/f9/8f06f962d2ca4f975ddcf6aeafe46f21.jpg"},{id:6,name:"Marvin the Martian",image:"https://www.clipartmax.com/png/small/38-381003_marvin-the-martian-images-marvin-the-martian-vector.png"},{id:7,name:"Elmer Fudd",image:"https://www.clipartmax.com/png/small/137-1370690_elmer-fudd-wikipedia-hunting-we-will-go.png"},{id:8,name:"Yosemite Sam",image:"https://www.clipartmax.com/png/small/201-2013868_yosemite-sam-vector-yosemite-sam.png"},{id:9,name:"Road Runner",image:"https://www.clipartmax.com/png/small/481-4818641_roadrunner-clipart-love-road-runner-looney-tunes-running.png"},{id:10,name:"Wile E. Coyote",image:"https://www.clipartmax.com/png/small/348-3483268_wile-e-coyote-transparent-background.png"}];var o=Object(c.b)({message:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return[...e,{id:Math.random(),text:t.text,date:t.date,userMessage:t.userMessage}];default:return e}},users:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1],d}});var h=Object(c.c)(o);var u=class extends n.Component{constructor(e){super(),this.fetchChatMembers=(()=>{let e=null,t=[];return this.props.messages&&(t=this.props.messages.map(e=>e.userMessage),e=[...new Set(t)]),e})}render(){const e=this.fetchChatMembers();return r.a.createElement("div",null,r.a.createElement("h1",{className:"chatMemberTitle"},"Chat Members"),null!==e?e.map(e=>r.a.createElement("div",{className:"chatMemberContext",key:e.id},r.a.createElement("img",{className:"chatMemberImage",src:e.image,alt:"logo img"}),r.a.createElement("h4",{className:"chatMemberName"},e.name))):null)}},g=a(49),p=a.n(g);var v=a(22),E=a(321);var S=(e,t)=>{return t.filter(t=>t.id===Number(e))[0]};var M={userSelector:{sendMessageDefaultText:"Choise an User to send a Message",searchMessageDefaultText:"Sent by"}};var f=class extends n.Component{constructor(e){super(e),this.handleUserSelected=(e=>{const t=S(e,this.props.users);this.setState({userSelected:t})}),this.handleSubmitMessage=(()=>{this.props.addNewMessage({user:this.state.userSelected,date:p()(),text:this.state.messageValue}),this.setState({messageValue:""})}),this.handleSubmit=(e=>{e.preventDefault(),this.handleSubmitMessage()}),this.state=this.getInitialState()}getInitialState(){return{userSelected:0,messageValue:""}}render(){const{userSelected:e,messageValue:t}=this.state,{users:a}=this.props;return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"sendMessageContext"},r.a.createElement("div",{className:"selectorMessage"},r.a.createElement(D.userSelector,{userSelected:e,handleUserSelected:this.handleUserSelected,users:a,defaultText:M.userSelector.sendMessageDefaultText})),r.a.createElement(v.a,{shape:"circle",type:"primary",icon:"search",onClick:this.props.showModal}),r.a.createElement("div",{className:"inputMessage"},r.a.createElement(E.a,{placeholder:"Type a Message",disabled:0===e,value:t,onChange:e=>this.setState({messageValue:e.target.value})})),r.a.createElement("div",{className:"sendButton"},r.a.createElement(v.a,{type:"primary",shape:"round",icon:"rocket",size:"large",disabled:""===t,onClick:this.handleSubmitMessage},"Send"))))}},b=a(324),w=a(109),x=a(81),C=a(5);var N=class extends n.Component{constructor(e){super(),this.handleButtonClick=(e=>{b.a.info("Click on left button.")}),this.handleMenuClick=(e=>{this.props.handleUserSelected(e.key)}),this.menuItems=(()=>this.props.users?r.a.createElement(w.a,{onClick:this.handleMenuClick,className:"menuConteiner"},this.props.users.map(e=>r.a.createElement(w.a.Item,{className:"userItemMenu",key:e.id},r.a.createElement("img",{className:"userImage",src:e.image,alt:"logo img"}),r.a.createElement("h4",{className:"nameItem"},e.name)))):r.a.createElement(w.a,null))}render(){const{userSelected:e,defaultText:t}=this.props;return r.a.createElement("div",{id:"components-dropdown-userSelector-dropdown-button"},r.a.createElement(x.a,{className:"DropDownMenu",overlay:this.menuItems()},r.a.createElement(v.a,null,e.id>0?r.a.createElement("div",{className:"userItemMenu"},r.a.createElement("img",{className:"userImage",src:e.image,alt:"logo img"}),r.a.createElement("h4",{className:"nameItem"},e.name)):r.a.createElement("div",null,t,r.a.createElement(C.a,{className:"searchIcon",type:"down"})))))}},y=a(150),T=a.n(y);var k=()=>r.a.createElement("div",{className:"headerContainer"},r.a.createElement("div",{className:"logoContent"},r.a.createElement("img",{className:"headerImg",src:T.a,alt:"logo img"})),r.a.createElement("div",{className:"titleContent"},r.a.createElement("h1",{className:"headerText"},"ACME Discussions"))),I=a(320),D={chatMemberList:u,message:class extends n.Component{constructor(e){super(),this.handleSameMessage=((e,t)=>r.a.createElement("div",{className:"messageDisplay"},r.a.createElement("div",{className:e?"right messageText":"left messageText"},t.text))),this.handleNewAuthorMessage=((e,t)=>r.a.createElement("div",{className:"messageDisplay"},r.a.createElement("div",{className:e?"rightHeader messageHeader":"leftHeader messageHeader"},r.a.createElement("img",{className:"messageImage",src:t.userMessage.image,alt:"logo img"})," ",t.userMessage.name,", ",p()(t.date).format("LT")),r.a.createElement("div",{className:e?"right messageText":"left messageText"},t.text)))}render(){const{message:e,sameAuthor:t,sameHour:a,rightDirection:s}=this.props;return r.a.createElement("div",{className:"messageContext",id:"inner"},a&&t?this.handleSameMessage(s,e):this.handleNewAuthorMessage(s,e))}},messageList:class extends n.Component{constructor(e){super(),this.compareMinuteswithMessages=((e,t)=>e.diff(t.date,"minutes")<1)}render(){const{messages:e}=this.props;let t,a=!1,s=!0,n=null;return r.a.createElement("div",null,e.map(e=>(null!==n&&((t=e.userMessage.name===n.userMessage.name||!1)?a=this.compareMinuteswithMessages(e.date,n):(a=!1,s=!s)),n=e,r.a.createElement(D.message,{key:e.id,message:e,sameAuthor:t,sameHour:a,rightDirection:s}))))}},sendMessageForm:f,userSelector:N,header:k,searchTable:e=>{return r.a.createElement(I.a,{columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Date",dataIndex:"date",key:"date"},{title:"Message",dataIndex:"message",key:"message"}],dataSource:e.messages})}};var O=class extends n.Component{constructor(e){super(),this.showModal=(()=>{this.setState({visible:!0})}),this.handleOk=(e=>{this.setState({visible:!1})}),this.handleCancel=(e=>{this.setState({visible:!1})}),this.state=this.getInitialState()}getInitialState(){return{visible:!1}}componentDidUpdate(e,t){this.scrollToBottom()}scrollToBottom(){const{thing:e}=this.refs;e.scrollTop=e.scrollHeight-e.clientHeight}render(){const{messages:e,users:t,addNewMessage:a}=this.props,{visible:s}=this.state;return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(D.header,null)),r.a.createElement("div",{id:"main"},r.a.createElement(L.SearchSection,{users:t,messages:e,handleCancel:this.handleCancel,handleOk:this.handleOk,visible:s}),r.a.createElement("article",{ref:"thing"},r.a.createElement(D.messageList,{messages:e})),r.a.createElement("nav",null,r.a.createElement(D.chatMemberList,{messages:e}))),r.a.createElement("footer",null,r.a.createElement(D.sendMessageForm,{users:t,addNewMessage:a,showModal:this.showModal})))}},A=a(58),U=a(322);const H=A.a.Option,j=E.a.Search;var L={ChatSection:O,SearchSection:class extends n.Component{constructor(e){super(e),this.handleUserSelected=(e=>{const t=S(e,this.props.users);this.handleSearch(this.state.text),this.setState({userSelected:t})}),this.handleOk=(e=>{this.props.handleOk(),this.setState({userSelected:0,order:null,messagesToTable:[],text:""})}),this.handleCancel=(e=>{this.props.handleCancel(),this.setState({userSelected:0,order:null,messagesToTable:[],text:""})}),this.handleChange=(e=>{this.handleSearch(this.state.text),this.setState({order:e})}),this.descOrder=((e,t)=>e.date-t.date),this.ascOrder=((e,t)=>t.date-e.date),this.messagesReformatted=(e=>{const t=e.map(e=>({name:e.userMessage.name,date:p()(e.date).format("LT"),message:e.text}));return this.setState({messagesToTable:t})}),this.searchedMessages=((e,t,a)=>a.id>0?e.filter(e=>e.text.includes(t)).filter(e=>e.userMessage.id===a.id):e.filter(e=>e.text.includes(t))),this.handleSearch=((e,t)=>(setTimeout(()=>{if(""!==e){const{messages:t}=this.props,{userSelected:a,order:s}=this.state;let n=this.searchedMessages(t,e,a).sort("new"===s?this.ascOrder:this.descOrder);return this.messagesReformatted(n)}},0),null)),this.state=this.getInitialState()}getInitialState(){return{userSelected:0,order:null,messagesToTable:[],text:""}}render(){const{userSelected:e,order:t,messagesToTable:a,text:s}=this.state,{users:n,visible:l}=this.props;return r.a.createElement("div",null,r.a.createElement(U.a,{title:"Search Message",visible:l,onOk:this.handleOk,onCancel:this.handleCancel,width:1e3,footer:null},r.a.createElement("div",{className:"modalContext"},r.a.createElement(D.userSelector,{userSelected:e,handleUserSelected:this.handleUserSelected,users:n,defaultText:M.userSelector.searchMessageDefaultText}),r.a.createElement(A.a,{defaultValue:"Order",onChange:this.handleChange},r.a.createElement(H,{value:null},"Order by"),r.a.createElement(H,{value:"new"},"Newest First"),r.a.createElement(H,{value:"old"},"Oldest First")),r.a.createElement(j,{className:"searchInput",placeholder:"input search text",enterButton:"Search",size:"large",value:s,onChange:e=>this.setState({text:e.target.value}),disabled:null===t,onSearch:e=>this.handleSearch(e)})),a.length<=0?r.a.createElement("h3",{className:"noData"},"No Result Found"):r.a.createElement(D.searchTable,{messages:a})))}}};function B(e){return{type:"ADD_MESSAGE",text:e.text,date:e.date,userMessage:e.user}}var _={ChatContainer:Object(m.b)(e=>({message:e.message,users:e.users}),e=>Object(c.a)(s,e))(class extends n.Component{constructor(e){super(),this.addNewMessage=(e=>{this.props.addMessage(e)})}render(){const{message:e,users:t}=this.props;return r.a.createElement("div",null,r.a.createElement(L.ChatSection,{addNewMessage:this.addNewMessage,messages:e,users:t}))}})},V={ChatPage:e=>r.a.createElement("div",null,r.a.createElement(_.ChatContainer,null))};a(318);var F=class extends n.Component{render(){return r.a.createElement(m.a,{store:h},r.a.createElement("div",null,r.a.createElement(V.ChatPage,null)))}};i.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.372bddc8.chunk.js.map