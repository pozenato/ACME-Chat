(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,a){e.exports=a.p+"static/media/Acme-corp.82be7c71.png"},157:function(e,t,a){e.exports=a(319)},162:function(e,t,a){},319:function(e,t,a){"use strict";a.r(t);var s={};a.r(s),a.d(s,"addMessage",function(){return F});var r=a(0),n=a.n(r),l=a(3),i=a.n(l),m=(a(162),a(80)),c=a(51);const d=[{id:1,name:"Bugs Bunny",image:"/images/bugs_bunny.jpg"},{id:2,name:"Tweety",image:"/images/tweety.png"},{id:3,name:"Daffy Duck",image:"/images/daffy_duck.png"},{id:4,name:"Tasmanian Devil",image:"/images/tasmanian_devil.png"},{id:5,name:"Porky Pig",image:"/images/porky_pig.png"},{id:6,name:"Marvin the Martian",image:"/images/marvin.png"},{id:7,name:"Elmer Fudd",image:"/images/elmer_fudd.png"},{id:8,name:"Yosemite Sam",image:"/images/yosemite_sam.png"},{id:9,name:"Road Runner",image:"/images/road_runner.png"},{id:10,name:"Wile E. Coyote",image:"/images/wile_e_coyote.png"}];var o=Object(c.b)({message:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return[...e,{id:Math.random(),text:t.text,date:t.date,userMessage:t.userMessage}];default:return e}},users:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1],d}});var h=Object(c.c)(o);var u=class extends r.Component{constructor(e){super(),this.fetchChatMembers=(()=>{let e=null,t=[];return this.props.messages&&(t=this.props.messages.map(e=>e.userMessage),e=[...new Set(t)]),e})}render(){const e=this.fetchChatMembers();return n.a.createElement("div",null,n.a.createElement("h1",{className:"chatMemberTitle"},"Chat Members"),null!==e?e.map(e=>n.a.createElement("div",{className:"chatMemberContext",key:e.id},n.a.createElement("img",{className:"chatMemberImage",src:e.image,alt:"logo img"}),n.a.createElement("h4",{className:"chatMemberName"},e.name))):null)}},g=a(49),p=a.n(g);var E=a(22),S=a(321);var M=(e,t)=>{return t.filter(t=>t.id===Number(e))[0]};var v={userSelector:{sendMessageDefaultText:"Choise an User to send a Message",searchMessageDefaultText:"Sent by"}};var C=class extends r.Component{constructor(e){super(e),this.handleUserSelected=(e=>{const t=M(e,this.props.users);this.setState({userSelected:t})}),this.handleSubmitMessage=(()=>{this.props.addNewMessage({user:this.state.userSelected,date:p()(),text:this.state.messageValue}),this.setState({messageValue:""})}),this.handleSubmit=(e=>{e.preventDefault(),this.handleSubmitMessage()}),this.state=this.getInitialState()}getInitialState(){return{userSelected:0,messageValue:""}}render(){const{userSelected:e,messageValue:t}=this.state,{users:a}=this.props;return n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"sendMessageContext"},n.a.createElement("div",{className:"selectorMessage"},n.a.createElement(D.userSelector,{userSelected:e,handleUserSelected:this.handleUserSelected,users:a,defaultText:v.userSelector.sendMessageDefaultText})),n.a.createElement(E.a,{shape:"circle",type:"primary",icon:"search",onClick:this.props.showModal}),n.a.createElement("div",{className:"inputMessage"},n.a.createElement(S.a,{placeholder:"Type a Message",disabled:0===e,value:t,onChange:e=>this.setState({messageValue:e.target.value})})),n.a.createElement("div",{className:"sendButton"},n.a.createElement(E.a,{type:"primary",shape:"round",icon:"rocket",size:"large",disabled:""===t,onClick:this.handleSubmitMessage},"Send"))))}},b=a(324),x=a(109),f=a(81),N=a(5);var T=class extends r.Component{constructor(e){super(),this.handleButtonClick=(e=>{b.a.info("Click on left button.")}),this.handleMenuClick=(e=>{this.props.handleUserSelected(e.key)}),this.menuItems=(()=>this.props.users?n.a.createElement(x.a,{onClick:this.handleMenuClick,className:"menuConteiner"},this.props.users.map(e=>n.a.createElement(x.a.Item,{className:"userItemMenu",key:e.id},n.a.createElement("img",{className:"userImage",src:e.image,alt:"logo img"}),n.a.createElement("h4",{className:"nameItem"},e.name)))):n.a.createElement(x.a,null))}render(){const{userSelected:e,defaultText:t}=this.props;return n.a.createElement("div",{id:"components-dropdown-userSelector-dropdown-button"},n.a.createElement(f.a,{className:"DropDownMenu",overlay:this.menuItems()},n.a.createElement(E.a,null,e.id>0?n.a.createElement("div",{className:"userItemMenu"},n.a.createElement("img",{className:"userImage",src:e.image,alt:"logo img"}),n.a.createElement("h4",{className:"nameItem"},e.name)):n.a.createElement("div",null,t,n.a.createElement(N.a,{className:"searchIcon",type:"down"})))))}},w=a(150),y=a.n(w);var k=()=>n.a.createElement("div",{className:"headerContainer"},n.a.createElement("div",{className:"logoContent"},n.a.createElement("img",{className:"headerImg",src:y.a,alt:"logo img"})),n.a.createElement("div",{className:"titleContent"},n.a.createElement("h1",{className:"headerText"},"ACME Discussions"))),I=a(320),D={chatMemberList:u,message:class extends r.Component{constructor(e){super(),this.handleSameMessage=((e,t)=>n.a.createElement("div",{className:"messageDisplay"},n.a.createElement("div",{className:e?"right messageText":"left messageText"},t.text))),this.handleNewAuthorMessage=((e,t)=>n.a.createElement("div",{className:"messageDisplay"},n.a.createElement("div",{className:e?"rightHeader messageHeader":"leftHeader messageHeader"},n.a.createElement("img",{className:"messageImage",src:t.userMessage.image,alt:"logo img"})," ",t.userMessage.name,", ",p()(t.date).format("LT")),n.a.createElement("div",{className:e?"right messageText":"left messageText"},t.text)))}render(){const{message:e,sameAuthor:t,sameHour:a,rightDirection:s}=this.props;return n.a.createElement("div",{className:"messageContext",id:"inner"},a&&t?this.handleSameMessage(s,e):this.handleNewAuthorMessage(s,e))}},messageList:class extends r.Component{constructor(e){super(),this.compareMinuteswithMessages=((e,t)=>e.diff(t.date,"minutes")<1)}render(){const{messages:e}=this.props;let t,a=!1,s=!0,r=null;return n.a.createElement("div",null,e.map(e=>(null!==r&&((t=e.userMessage.name===r.userMessage.name||!1)?a=this.compareMinuteswithMessages(e.date,r):(a=!1,s=!s)),r=e,n.a.createElement(D.message,{key:e.id,message:e,sameAuthor:t,sameHour:a,rightDirection:s}))))}},sendMessageForm:C,userSelector:T,header:k,searchTable:e=>{return n.a.createElement(I.a,{columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Date",dataIndex:"date",key:"date"},{title:"Message",dataIndex:"message",key:"message"}],dataSource:e.messages})}};var O=class extends r.Component{constructor(e){super(),this.showModal=(()=>{this.setState({visible:!0})}),this.handleOk=(e=>{this.setState({visible:!1})}),this.handleCancel=(e=>{this.setState({visible:!1})}),this.state=this.getInitialState()}getInitialState(){return{visible:!1}}componentDidUpdate(e,t){this.scrollToBottom()}scrollToBottom(){const{thing:e}=this.refs;e.scrollTop=e.scrollHeight-e.clientHeight}render(){const{messages:e,users:t,addNewMessage:a}=this.props,{visible:s}=this.state;return n.a.createElement("div",null,n.a.createElement("header",null,n.a.createElement(D.header,null)),n.a.createElement("div",{id:"main"},n.a.createElement(H.SearchSection,{users:t,messages:e,handleCancel:this.handleCancel,handleOk:this.handleOk,visible:s}),n.a.createElement("article",{ref:"thing"},n.a.createElement(D.messageList,{messages:e})),n.a.createElement("nav",null,n.a.createElement(D.chatMemberList,{messages:e}))),n.a.createElement("footer",null,n.a.createElement(D.sendMessageForm,{users:t,addNewMessage:a,showModal:this.showModal})))}},_=a(58),A=a(322);const U=_.a.Option,B=S.a.Search;var H={ChatSection:O,SearchSection:class extends r.Component{constructor(e){super(e),this.handleUserSelected=(e=>{const t=M(e,this.props.users);this.handleSearch(this.state.text),this.setState({userSelected:t})}),this.handleOk=(e=>{this.props.handleOk(),this.setState({userSelected:0,order:null,messagesToTable:[],text:""})}),this.handleCancel=(e=>{this.props.handleCancel(),this.setState({userSelected:0,order:null,messagesToTable:[],text:""})}),this.handleChange=(e=>{this.handleSearch(this.state.text),this.setState({order:e})}),this.descOrder=((e,t)=>e.date-t.date),this.ascOrder=((e,t)=>t.date-e.date),this.messagesReformatted=(e=>{const t=e.map(e=>({name:e.userMessage.name,date:p()(e.date).format("LT"),message:e.text}));return this.setState({messagesToTable:t})}),this.searchedMessages=((e,t,a)=>a.id>0?e.filter(e=>e.text.includes(t)).filter(e=>e.userMessage.id===a.id):e.filter(e=>e.text.includes(t))),this.handleSearch=((e,t)=>(setTimeout(()=>{if(""!==e){const{messages:t}=this.props,{userSelected:a,order:s}=this.state;let r=this.searchedMessages(t,e,a).sort("new"===s?this.ascOrder:this.descOrder);return this.messagesReformatted(r)}},0),null)),this.state=this.getInitialState()}getInitialState(){return{userSelected:0,order:null,messagesToTable:[],text:""}}render(){const{userSelected:e,order:t,messagesToTable:a,text:s}=this.state,{users:r,visible:l}=this.props;return n.a.createElement("div",null,n.a.createElement(A.a,{title:"Search Message",visible:l,onOk:this.handleOk,onCancel:this.handleCancel,width:1e3,footer:null},n.a.createElement("div",{className:"modalContext"},n.a.createElement(D.userSelector,{userSelected:e,handleUserSelected:this.handleUserSelected,users:r,defaultText:v.userSelector.searchMessageDefaultText}),n.a.createElement(_.a,{defaultValue:"Order",onChange:this.handleChange},n.a.createElement(U,{value:null},"Order by"),n.a.createElement(U,{value:"new"},"Newest First"),n.a.createElement(U,{value:"old"},"Oldest First")),n.a.createElement(B,{className:"searchInput",placeholder:"input search text",enterButton:"Search",size:"large",value:s,onChange:e=>this.setState({text:e.target.value}),disabled:null===t,onSearch:e=>this.handleSearch(e)})),a.length<=0?n.a.createElement("h3",{className:"noData"},"No Result Found"):n.a.createElement(D.searchTable,{messages:a})))}}};function F(e){return{type:"ADD_MESSAGE",text:e.text,date:e.date,userMessage:e.user}}var L={ChatContainer:Object(m.b)(e=>({message:e.message,users:e.users}),e=>Object(c.a)(s,e))(class extends r.Component{constructor(e){super(),this.addNewMessage=(e=>{this.props.addMessage(e)})}render(){const{message:e,users:t}=this.props;return n.a.createElement("div",null,n.a.createElement(H.ChatSection,{addNewMessage:this.addNewMessage,messages:e,users:t}))}})},V={ChatPage:e=>n.a.createElement("div",null,n.a.createElement(L.ChatContainer,null))};a(318);var j=class extends r.Component{render(){return n.a.createElement(m.a,{store:h},n.a.createElement("div",null,n.a.createElement(V.ChatPage,null)))}};i.a.render(n.a.createElement(j,null),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.d922aa51.chunk.js.map